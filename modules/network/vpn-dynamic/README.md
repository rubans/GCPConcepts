# Google VPN-Dynamic

This module allows simple management of Google VPN-Dynamic

## Requirements

These sections describe requirements for using this module.

### Software

The following dependencies must be available:

- Terraform >=v0.12
- Terraform Provider for GCP plugin >=v2.0
## Inputs

| Name                      | Description                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Default | Required |
|---------------------------|---------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|---------|
| gateway\_address          | Optional address assigned to the VPN gateway. Ignored unless gateway\_address\_create is set to false.                                | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `""`    | no       |
| gateway\_address\_create  | Create external address assigned to the VPN gateway. Needs to be explicitly set to false to use address in gateway\_address variable. | `bool`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `true`  | no       |
| name                      | VPN gateway name, and prefix used for dependent resources.                                                                            | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | n/a     | yes      |
| network                   | VPC used for the gateway and routes.                                                                                                  | `any`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | n/a     | yes      |
| project                   | Project where resources will be created.                                                                                              | `any`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | n/a     | yes      |
| region                    | Region used for resources.                                                                                                            | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | n/a     | yes      |
| route\_priority           | Route priority, defaults to 1000.                                                                                                     | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `1000`  | no       |
| router\_advertise\_config | Router custom advertisement configuration, ip\_ranges is a map of address ranges and descriptions.                                    | <pre>object({<br>    groups    = list(string)<br>    ip_ranges = map(string)<br>    mode      = string<br>  })</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `null`  | no       |
| router\_asn               | Router ASN used for auto-created router.                                                                                              | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `64514` | no       |
| router\_create            | Create router.                                                                                                                        | `bool`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `true`  | no       |
| router\_name              | Router name used for auto created router, or to specify existing router to use. Leave blank to use VPN name for auto created router.  | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `""`    | no       |
| tunnels                   | VPN tunnel configurations, bgp\_peer\_options is usually null.                                                                        | <pre>map(object({<br>    bgp_peer = object({<br>      address = string<br>      asn     = number<br>    })<br>    bgp_peer_options = object({<br>      advertise_groups    = list(string)<br>      advertise_ip_ranges = map(string)<br>      advertise_mode      = string<br>      route_priority      = number<br>    })<br>    # each BGP session on the same Cloud Router must use a unique /30 CIDR<br>    # from the 169.254.0.0/16 block.<br>    bgp_session_range = string<br>    ike_version       = number<br>    peer_ip           = string<br>    shared_secret     = string<br>  }))</pre> | `{}`    | no       |


## Outputs

| Name                | Description            |
|---------------------|------------------------|
| address             | VPN gateway address.   |
| gateway             | VPN gateway resource.  |
| name                | VPN gateway name.      |
| random\_secret      | Generated secret.      |
| router              | Name of the Router     |
| self\_link          | VPN gateway self link. |
| tunnel\_names       | VPN tunnel names.      |
| tunnel\_self\_links | VPN tunnel self links. |
| tunnels             | VPN tunnel resources.  |
